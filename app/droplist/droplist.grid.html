<!-- <button ui-sref="droplist.detail" class="btn btn-default pull-right">
  <i class="glyphicon glyphicon-plus"></i> New List
</button> -->

<div class="panel panel-primary col-xs-12">
  <div class="panel-heading">
    Droplists
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-xs-6">
        <div class="form-group">
          <label for="Department">Department</label>
          <select id="Department" class="form-control" ng-options="department.departmentName for department in droplistGridCtrl.departments" ng-model="droplistGridCtrl.selectedDepartment" ng-change="droplistGridCtrl.filterSections()">
            <option value="" disabled selected>- Select department -</option>
            <!-- <option value="">- All departments -</option> -->
          </select>
        </div>
      </div>
      <div class="col-xs-6">
        <div class="form-group">
          <label for="Section">Section</label>
          <select id="Section" class="form-control" ng-options="section.sectionName for section in droplistGridCtrl.departmentSections" ng-model="droplistGridCtrl.selectedSection" ng-change="droplistGridCtrl.filterDroplists()" ng-disabled="droplistGridCtrl.isSectionsDisabled">
              <option value="" disabled selected>- All sections -</option>
          </select>
        </div>
      </div>
      <!-- <div class="col-xs-6">
        <div class="form-group">
          <label for="Status">Status</label>
          <select class="form-control" ng-options="status for status in droplistGridCtrl.statuses" ng-change="droplistGridCtrl.filterDroplists()" ng-model="droplistGridCtrl.selectedStatus">
          </select>
        </div>
      </div> -->
      <!-- <div class="col-xs-6">
        <div class="form-group">

          <label for="From">From</label>
          <select class="form-control" ng-change="droplistGridCtrl.filterDroplists()" ng-model="droplistGridCtrl.selectedDate">
              <option value="" selected>Today</option>
              <option value="">Week</option>
            </select>
        </div>
      </div> -->
      <hr class="col-xs-12">
      <div class="col-xs-12" ng-show="droplistGridCtrl.loading" style="text-align:center;">
        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
        <span class="sr-only">Loading...</span>
      </div>
      <div class="col-xs-12 animated fadeIn" ng-show="droplistGridCtrl.filteredDroplists.length > 0 && !droplistGridCtrl.loading">
        <div class="row">
          <table class="table table-striped col-xs-12">
            <thead>
              <tr>
                <th></th>
                <th>Name</th>
                <th>Department</th>
                <th>Section</th>
                <th>Created on</th>
                <th>By</th>
                <th>Completed on</th>
                <th>Driver</th>
                <th width="1%"></th>
                <th ng-hide="droplistGridCtrl.isDriver" width="1%"></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="droplist in droplistGridCtrl.filteredDroplists">
                <td>
                  <span>{{$index+1}}</span>
                </td>
                <td>
                  <span>{{droplist.droplistName}}</span>
                </td>
                <td>
                  <span>{{droplist.departmentName}}</span>
                </td>
                <td>
                  <span>{{droplist.sectionName}}</span>
                </td>
                <td>
                  <span>{{droplist.createdOnDate | date:'short'}}</span>
                </td>
                <td>
                  <span>{{droplist.stockerName}}</span>
                </td>
                <td>
                  <span ng-show="droplist.completedOnDate">{{droplist.completedOnDate | date:'short'}}</span>
                  <span ng-hide="droplist.completedOnDate">Pending</span>
                </td>
                <td>
                  <span ng-show="droplist.completedOnDate">{{droplist.driverName}}!</span>
                  <span ng-hide="droplist.completedOnDate">  ---  </span>
                  <td>
                    <a ui-sref="app.droplist.detail({id: droplist.droplistId})" class="btn btn-default">
                      <i class="glyphicon glyphicon-eye-open"></i>
                    </a>
                  </td>
                  <td ng-hide="droplistGridCtrl.isDriver">
                    <a ng-click="droplistGridCtrl.remove(droplist)" class="btn btn-danger">
                      <i class="glyphicon glyphicon-trash"></i>
                    </a>
                  </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="panel-footer" style="text-align:right">
    Showing <span style="font-weight: bold">{{droplistGridCtrl.filteredDroplists.length}}</span> of <span style="font-weight: bold">{{droplistGridCtrl.droplists.length}}</span> droplists
  </div>
</div>
